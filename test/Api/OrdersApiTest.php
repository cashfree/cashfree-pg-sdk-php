<?php
/**
 * OrdersApiTest
 * PHP version 7.4
 *
 * @category Class
 * @package  Cashfree
 * @author   OpenAPI Generator team
 * @link     https://openapi-generator.tech
 */

/**
 * Cashfree Payment Gateway APIs
 *
 * Cashfree's Payment Gateway APIs provide developers with a streamlined pathway to integrate advanced payment processing capabilities into their applications, platforms and websites.
 *
 * The version of the OpenAPI document: 2023-08-01
 * Contact: developers@cashfree.com
 * Generated by: https://openapi-generator.tech
 * OpenAPI Generator version: 7.0.0
 */

/**
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Please update the test case below to test the endpoint.
 */

namespace Cashfree\Test\Api;

use Cashfree\Cashfree;
use \Cashfree\Configuration;
use Cashfree\Model\CreateOrderRequest;
use Cashfree\Model\CustomerDetails;
use PHPUnit\Framework\TestCase;

/**
 * OrdersApiTest Class Doc Comment
 *
 * @category Class
 * @package  Cashfree
 * @author   OpenAPI Generator team
 * @link     https://openapi-generator.tech
 * @method assertTrue(array $result)
 * @method assertArrayHasKey(string $string, $toArray)
 */
class OrdersApiTest extends TestCase
{

    /**
     * Setup before running any test cases
     */
    public static function setUpBeforeClass(): void
    {
    }

    /**
     * Setup before running each test case
     */
    public function setUp(): void
    {
    }

    /**
     * Clean up after running each test case
     */
    public function tearDown(): void
    {
    }

    /**
     * Clean up after running all test cases
     */
    public static function tearDownAfterClass(): void
    {
    }

    /**
     * Test case for pGCreateOrder
     *
     * Create Order.
     *
     */
    public function testPGCreateOrder()
    {
        $cashfree = new Cashfree();
        $x_api_version = "2022-09-01";
        $create_orders_request = new CreateOrderRequest();
        $customer_details = new CustomerDetails();
        $customer_details->setCustomerId("walterwNrcMi");
        $customer_details->setCustomerPhone("9999999999");
        $create_orders_request->setCustomerDetails($customer_details);
        $create_orders_request->setOrderAmount(1.0);
        $create_orders_request->setOrderCurrency("INR");

        $result = $cashfree->PGCreateOrder($x_api_version, $create_orders_request, null, null, null);

        $this->assertTrue($result);

        $this->assertArrayHasKey('payment_session_id',$result->toArray());
    }

    /**
     * Test case for pGFetchOrder
     *
     * Get Order.
     *
     */
    public function testPGFetchOrder()
    {
        $cashfree = new Cashfree();
        $x_api_version = "2022-09-01";
        $order_id = "order_306362cJ3scxkcQxn0F38Q5HxF7j5UoP";

        $result = $cashfree->PGFetchOrder($x_api_version, $order_id, null, null, null);

        $this->assertTrue($result);

        $this->assertArrayHasKey('payment_session_id',$result->toArray());

    }

    /**
     * Test case for PGOrderFetchPayment
     *
     * Terminate Order.
     *
     */
    public function testPGOrderFetchPayment()
    {
        $cashfree = new Cashfree();
        $x_api_version = "2022-09-01";
        $order_id = "order_id";
        $cf_payment_id = "cf_payment_id";
        $result = $cashfree->PGOrderFetchPayment($x_api_version, $order_id, $cf_payment_id, null, null, null);
        $this->assertTrue($result);

        $this->assertArrayHasKey('cf_payment_id',$result->toArray());

    }

    /**
     * Test case for PGOrderFetchPayment
     *
     * Terminate Order.
     *
     */
    public function testPGOrderFetchPayments()
    {
        $cashfree = new Cashfree();
        $x_api_version = "2022-09-01";
        $order_id = "order00002";
        $result = $cashfree->PGOrderFetchPayments($x_api_version, $order_id, null, null, null);
        $this->assertTrue($result);

        $this->assertArrayHasKey('cf_payment_id',$result->toArray());

    }
}
